{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport jwt_decode from 'jwt-decode';\nexport let AppComponent = class AppComponent {\n  constructor(router) {\n    this.router = router;\n    this.navmode = ''; //Initialize the navmode variable\n  }\n\n  ngOnInit() {\n    const token = localStorage.getItem('authToken');\n    let tokenPayload;\n    try {\n      tokenPayload = jwt_decode(token);\n    } catch (error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n    console.log(\"TokenPayload: \", tokenPayload);\n    if (tokenPayload.Role === \"Admin\") {\n      this.navmode = 'ADMIN';\n    } else if (tokenPayload.Role === \"Faculty\") {\n      this.navmode = 'FACULTY';\n    } else if (tokenPayload.Role === \"Student\") {\n      this.navmode = 'STUDENT';\n    }\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","jwt_decode","AppComponent","constructor","router","navmode","ngOnInit","token","localStorage","getItem","tokenPayload","error","clear","navigate","console","log","Role","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport jwt_decode from 'jwt-decode';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n  navmode : string = ''; //Initialize the navmode variable\n  constructor(private router: Router){}\n  ngOnInit(): void {\n    const token: any = localStorage.getItem('authToken');\n    let tokenPayload:any;\n\n    try{\n      tokenPayload = jwt_decode(token);\n    }catch(error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n\n    console.log(\"TokenPayload: \", tokenPayload);\n\n\n    if(tokenPayload.Role === \"Admin\"){\n      this.navmode = 'ADMIN';\n    }\n    else if(tokenPayload.Role === \"Faculty\"){\n      this.navmode = 'FACULTY';\n    }\n    else if(tokenPayload.Role === \"Student\"){\n      this.navmode = 'STUDENT';\n    }\n  }\n  // title = 'UniversityApp';\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,OAAOC,UAAU,MAAM,YAAY;AAO5B,WAAMC,YAAY,GAAlB,MAAMA,YAAY;EAEvBC,YAAoBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;IAD1B,KAAAC,OAAO,GAAY,EAAE,CAAC,CAAC;EACa;;EACpCC,QAAQA,CAAA;IACN,MAAMC,KAAK,GAAQC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACpD,IAAIC,YAAgB;IAEpB,IAAG;MACDA,YAAY,GAAGT,UAAU,CAACM,KAAK,CAAC;KACjC,QAAMI,KAAK,EAAE;MACZH,YAAY,CAACI,KAAK,EAAE;MACpB,IAAI,CAACR,MAAM,CAACS,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;IAG7BC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,YAAY,CAAC;IAG3C,IAAGA,YAAY,CAACM,IAAI,KAAK,OAAO,EAAC;MAC/B,IAAI,CAACX,OAAO,GAAG,OAAO;KACvB,MACI,IAAGK,YAAY,CAACM,IAAI,KAAK,SAAS,EAAC;MACtC,IAAI,CAACX,OAAO,GAAG,SAAS;KACzB,MACI,IAAGK,YAAY,CAACM,IAAI,KAAK,SAAS,EAAC;MACtC,IAAI,CAACX,OAAO,GAAG,SAAS;;EAE5B;CAED;AA5BYH,YAAY,GAAAe,UAAA,EALxBjB,SAAS,CAAC;EACTkB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,C,EACWlB,YAAY,CA4BxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
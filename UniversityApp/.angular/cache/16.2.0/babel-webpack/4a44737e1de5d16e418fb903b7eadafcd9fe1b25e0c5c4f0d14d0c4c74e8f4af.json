{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport jwtDecode from 'jwt-decode';\nexport let StudentPersonalinfoComponent = class StudentPersonalinfoComponent {\n  constructor(studentService, router, cdRef) {\n    this.studentService = studentService;\n    this.router = router;\n    this.cdRef = cdRef;\n  }\n  ngOnInit() {\n    const token = localStorage.getItem('authToken');\n    try {\n      const tokenPayload = jwtDecode(token);\n      console.log(tokenPayload.AdminId);\n      this.studentId = tokenPayload.AdminId;\n      // Call the method to fetch admin data\n      this.fetchAdminData(this.studentId);\n    } catch (error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n  }\n  // personal-info.component.ts\n  fetchAdminData(id) {\n    try {\n      this.studentService.getStudentInfo(id).subscribe(data => {\n        this.studentService.StudentData = data; // Assuming AdminInfo is the type\n        console.log(this.studentService.StudentData.AdminId);\n        this.cdRef.detectChanges();\n      }, error => {\n        console.error('Error fetching admin data:', error);\n      });\n    } catch (error) {\n      console.error('Error fetching admin data:', error);\n    }\n  }\n};\nStudentPersonalinfoComponent = __decorate([Component({\n  selector: 'app-student-personalinfo',\n  templateUrl: './personalinfo.component.html',\n  styleUrls: ['./personalinfo.component.css']\n})], StudentPersonalinfoComponent);","map":{"version":3,"names":["Component","jwtDecode","StudentPersonalinfoComponent","constructor","studentService","router","cdRef","ngOnInit","token","localStorage","getItem","tokenPayload","console","log","AdminId","studentId","fetchAdminData","error","clear","navigate","id","getStudentInfo","subscribe","data","StudentData","detectChanges","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\student\\personalinfo\\personalinfo.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { StudentInfo } from 'src/app/shared/student-info.model';\r\nimport { StudentInfoService } from 'src/app/shared/student-info.service';\r\n\r\n@Component({\r\n  selector: 'app-student-personalinfo',\r\n  templateUrl: './personalinfo.component.html',\r\n  styleUrls: ['./personalinfo.component.css']\r\n})\r\nexport class StudentPersonalinfoComponent {\r\n  studentId: any;\r\n\r\n  constructor(public studentService: StudentInfoService, private router: Router,\r\n    private cdRef: ChangeDetectorRef) { }\r\n\r\n  ngOnInit() {\r\n    const token: any = localStorage.getItem('authToken');\r\n\r\n    try {\r\n      const tokenPayload: any = jwtDecode(token);\r\n      console.log(tokenPayload.AdminId)\r\n      this.studentId = tokenPayload.AdminId;\r\n      // Call the method to fetch admin data\r\n      this.fetchAdminData(this.studentId);\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      this.router.navigate(['/']);\r\n    }\r\n  }\r\n\r\n  // personal-info.component.ts\r\n  fetchAdminData(id) {\r\n    try {\r\n      this.studentService.getStudentInfo(id).subscribe(\r\n        (data) => {\r\n          this.studentService.StudentData = data as StudentInfo; // Assuming AdminInfo is the type\r\n          console.log(this.studentService.StudentData.AdminId);\r\n          this.cdRef.detectChanges();\r\n        },\r\n        (error) => {\r\n          console.error('Error fetching admin data:', error);\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error('Error fetching admin data:', error);\r\n    }\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAA4BA,SAAS,QAAQ,eAAe;AAE5D,OAAOC,SAAS,MAAM,YAAY;AAS3B,WAAMC,4BAA4B,GAAlC,MAAMA,4BAA4B;EAGvCC,YAAmBC,cAAkC,EAAUC,MAAc,EACnEC,KAAwB;IADf,KAAAF,cAAc,GAAdA,cAAc;IAA8B,KAAAC,MAAM,GAANA,MAAM;IAC3D,KAAAC,KAAK,GAALA,KAAK;EAAuB;EAEtCC,QAAQA,CAAA;IACN,MAAMC,KAAK,GAAQC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAEpD,IAAI;MACF,MAAMC,YAAY,GAAQV,SAAS,CAACO,KAAK,CAAC;MAC1CI,OAAO,CAACC,GAAG,CAACF,YAAY,CAACG,OAAO,CAAC;MACjC,IAAI,CAACC,SAAS,GAAGJ,YAAY,CAACG,OAAO;MACrC;MACA,IAAI,CAACE,cAAc,CAAC,IAAI,CAACD,SAAS,CAAC;KACpC,CAAC,OAAOE,KAAK,EAAE;MACdR,YAAY,CAACS,KAAK,EAAE;MACpB,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;EAE/B;EAEA;EACAH,cAAcA,CAACI,EAAE;IACf,IAAI;MACF,IAAI,CAAChB,cAAc,CAACiB,cAAc,CAACD,EAAE,CAAC,CAACE,SAAS,CAC7CC,IAAI,IAAI;QACP,IAAI,CAACnB,cAAc,CAACoB,WAAW,GAAGD,IAAmB,CAAC,CAAC;QACvDX,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,cAAc,CAACoB,WAAW,CAACV,OAAO,CAAC;QACpD,IAAI,CAACR,KAAK,CAACmB,aAAa,EAAE;MAC5B,CAAC,EACAR,KAAK,IAAI;QACRL,OAAO,CAACK,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,CACF;KACF,CAAC,OAAOA,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;;EAEtD;CACD;AAtCYf,4BAA4B,GAAAwB,UAAA,EALxC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,0BAA0B;EACpCC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACW3B,4BAA4B,CAsCxC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
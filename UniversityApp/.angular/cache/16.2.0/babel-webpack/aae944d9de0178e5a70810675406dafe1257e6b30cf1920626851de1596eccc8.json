{"ast":null,"code":"var _class;\nimport { NavigationEnd } from '@angular/router';\nimport jwt_decode from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./authentication.service\";\nimport * as i3 from \"@angular/common\";\nfunction AppComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"nav\", 4)(2, \"a\", 5);\n    i0.ɵɵtext(3, \"Navbar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 6);\n    i0.ɵɵelement(5, \"span\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8)(7, \"ul\", 9)(8, \"li\", 10)(9, \"a\", 11);\n    i0.ɵɵtext(10, \"Home \");\n    i0.ɵɵelementStart(11, \"span\", 12);\n    i0.ɵɵtext(12, \"(current)\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"li\", 13)(14, \"a\", 11);\n    i0.ɵɵtext(15, \"Department\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"li\", 13)(17, \"a\", 11);\n    i0.ɵɵtext(18, \"Branch\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"li\", 13)(20, \"a\", 11);\n    i0.ɵɵtext(21, \"Course\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"li\", 13)(23, \"a\", 11);\n    i0.ɵɵtext(24, \"Faculty\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"li\", 13)(26, \"a\", 11);\n    i0.ɵɵtext(27, \"Faculty\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"li\", 13)(29, \"a\", 11);\n    i0.ɵɵtext(30, \"Student\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"li\", 13)(32, \"a\", 11);\n    i0.ɵɵtext(33, \"Attendance\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"li\", 13)(35, \"a\", 11);\n    i0.ɵɵtext(36, \"Examination\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"li\", 13)(38, \"a\", 11);\n    i0.ɵɵtext(39, \"User\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"li\", 13)(41, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_3_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.Logout());\n    });\n    i0.ɵɵtext(42, \"Logout\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n}\nexport class AppComponent {\n  constructor(router, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.navmode = ''; //Initialize the navmode variable\n  }\n\n  ngOnInit() {\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        if (event.urlAfterRedirects === '/admin_dashboard') {\n          this.navAuthentication();\n        }\n      }\n    });\n  }\n  navAuthentication() {\n    const token = localStorage.getItem('authToken');\n    try {\n      const tokenPayload = jwt_decode(token);\n      console.log(tokenPayload);\n      if (tokenPayload.Role === \"Admin\") {\n        this.navmode = \"ADMIN\";\n      } else if (tokenPayload.Role === \"Faculty\") {\n        this.navmode = 'FACULTY';\n      } else if (tokenPayload.Role === \"Student\") {\n        this.navmode = 'STUDENT';\n      }\n      console.log(this.navmode);\n    } catch (error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n  }\n  Logout() {\n    this.auth.logout();\n  }\n}\n_class = AppComponent;\n_class.ɵfac = function AppComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-root\"]],\n  decls: 9,\n  vars: 1,\n  consts: [[1, \"bg-dark\", \"text-white\", \"text-center\", \"py-4\"], [4, \"ngIf\"], [1, \"main\"], [1, \"bg-secondary\", \"text-center\", \"text-white\", \"py-3\", \"footer\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-light\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarNav\", \"aria-controls\", \"navbarNav\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarNav\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\"], [1, \"nav-item\", \"active\"], [\"href\", \"#\", 1, \"nav-link\"], [1, \"sr-only\"], [1, \"nav-item\"], [\"type\", \"button\", 1, \"nav-link\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"AdvanceLink Institute\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(3, AppComponent_div_3_Template, 43, 0, \"div\", 1);\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelement(5, \"router-outlet\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"footer\", 3)(7, \"p\");\n      i0.ɵɵtext(8, \"\\u00A9 2023 AdvanceLink Institute. All rights reserved.\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.navmode === \"ADMIN\");\n    }\n  },\n  dependencies: [i3.NgIf, i1.RouterOutlet],\n  styles: [\".main[_ngcontent-%COMP%]{\\n    background-color: whitesmoke;\\n    min-height: -moz-fit-content;\\n    min-height: fit-content;\\n}\\n\\n.footer[_ngcontent-%COMP%]{\\n    margin-top: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw0QkFBNEI7SUFDNUIsNEJBQXVCO0lBQXZCLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi5tYWlue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcclxuICAgIG1pbi1oZWlnaHQ6IGZpdC1jb250ZW50O1xyXG59XHJcblxyXG4uZm9vdGVye1xyXG4gICAgbWFyZ2luLXRvcDogMTJweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  changeDetection: 0\n});","map":{"version":3,"names":["NavigationEnd","jwt_decode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AppComponent_div_3_Template_button_click_41_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","Logout","AppComponent","constructor","router","auth","navmode","ngOnInit","events","subscribe","event","urlAfterRedirects","navAuthentication","token","localStorage","getItem","tokenPayload","console","log","Role","error","clear","navigate","logout","ɵɵdirectiveInject","i1","Router","i2","AuthenticationService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_div_3_Template","ɵɵadvance","ɵɵproperty"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\app.component.ts","D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { AuthenticationService } from './authentication.service';\nimport jwt_decode from 'jwt-decode';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AppComponent implements OnInit{\n  navmode : string = ''; //Initialize the navmode variable\n  constructor(private router: Router, private auth:AuthenticationService){}\n  ngOnInit(): void {\n  \n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        if (event.urlAfterRedirects === '/admin_dashboard') {\n          this.navAuthentication();\n        }\n      }\n    });\n  }\n\n\n navAuthentication(){\n  const token: any = localStorage.getItem('authToken');\n\n    try{\n      const tokenPayload:any = jwt_decode(token);\n\n      console.log(tokenPayload )\n      if(tokenPayload.Role === \"Admin\"){\n        this.navmode = \"ADMIN\";\n      }\n      else if(tokenPayload.Role === \"Faculty\"){\n        this.navmode = 'FACULTY';\n      }\n      else if(tokenPayload.Role === \"Student\"){\n        this.navmode = 'STUDENT';\n      }\n      console.log(this.navmode)\n    }catch(error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n } \n\n Logout(){\n  this.auth.logout();\n }\n\n \n  // title = 'UniversityApp';\n}\n","<!-- Header -->\r\n<header class=\"bg-dark text-white text-center py-4\">\r\n    <h1>AdvanceLink Institute</h1>\r\n</header>\r\n\r\n<!-- ADMIN DASHBOARD -->\r\n\r\n\r\n<div *ngIf=\"navmode === 'ADMIN'\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <a class=\"navbar-brand\" href=\"#\">Navbar</a>\r\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\"\r\n            aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul class=\"navbar-nav\">\r\n                <li class=\"nav-item active\">\r\n                    <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Department</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Branch</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Course</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Faculty</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Faculty</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Student</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Attendance</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Examination</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">User</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <button class=\"nav-link\" type=\"button\" (click)=\"Logout()\">Logout</button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </nav>\r\n</div>\r\n\r\n\r\n<div class=\"main\">\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n\r\n<!-- Footer -->\r\n<footer class=\"bg-secondary text-center text-white py-3 footer\">\r\n    <p>&copy; 2023 AdvanceLink Institute. All rights reserved.</p>\r\n</footer>"],"mappings":";AACA,SAASA,aAAa,QAAgB,iBAAiB;AAEvD,OAAOC,UAAU,MAAM,YAAY;;;;;;;;ICKnCC,EAAA,CAAAC,cAAA,UAAiC;IAEQD,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAC3CH,EAAA,CAAAC,cAAA,gBACmF;IAC/ED,EAAA,CAAAI,SAAA,cAAyC;IAC7CJ,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,aAAqD;IAGZD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAC,cAAA,gBAAsB;IAAAD,EAAA,CAAAE,MAAA,iBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAE5EH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,kBAAU;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE/CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE3CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE3CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE5CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE5CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE5CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,kBAAU;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE/CH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAEhDH,EAAA,CAAAC,cAAA,cAAqB;IACYD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAEzCH,EAAA,CAAAC,cAAA,cAAqB;IACsBD,EAAA,CAAAK,UAAA,mBAAAC,qDAAA;MAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,MAAA,EAAQ;IAAA,EAAC;IAACZ,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;ADrC7F,OAAM,MAAOU,YAAY;EAEvBC,YAAoBC,MAAc,EAAUC,IAA0B;IAAlD,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,IAAI,GAAJA,IAAI;IADhD,KAAAC,OAAO,GAAY,EAAE,CAAC,CAAC;EACiD;;EACxEC,QAAQA,CAAA;IAEN,IAAI,CAACH,MAAM,CAACI,MAAM,CAACC,SAAS,CAACC,KAAK,IAAG;MACnC,IAAIA,KAAK,YAAYvB,aAAa,EAAE;QAClC,IAAIuB,KAAK,CAACC,iBAAiB,KAAK,kBAAkB,EAAE;UAClD,IAAI,CAACC,iBAAiB,EAAE;;;IAG9B,CAAC,CAAC;EACJ;EAGDA,iBAAiBA,CAAA;IAChB,MAAMC,KAAK,GAAQC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAElD,IAAG;MACD,MAAMC,YAAY,GAAO5B,UAAU,CAACyB,KAAK,CAAC;MAE1CI,OAAO,CAACC,GAAG,CAACF,YAAY,CAAE;MAC1B,IAAGA,YAAY,CAACG,IAAI,KAAK,OAAO,EAAC;QAC/B,IAAI,CAACb,OAAO,GAAG,OAAO;OACvB,MACI,IAAGU,YAAY,CAACG,IAAI,KAAK,SAAS,EAAC;QACtC,IAAI,CAACb,OAAO,GAAG,SAAS;OACzB,MACI,IAAGU,YAAY,CAACG,IAAI,KAAK,SAAS,EAAC;QACtC,IAAI,CAACb,OAAO,GAAG,SAAS;;MAE1BW,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,OAAO,CAAC;KAC1B,QAAMc,KAAK,EAAE;MACZN,YAAY,CAACO,KAAK,EAAE;MACpB,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;EAEhC;EAEArB,MAAMA,CAAA;IACL,IAAI,CAACI,IAAI,CAACkB,MAAM,EAAE;EACnB;;SAxCYrB,YAAY;;mBAAZA,MAAY,EAAAb,EAAA,CAAAmC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAArC,EAAA,CAAAmC,iBAAA,CAAAG,EAAA,CAAAC,qBAAA;AAAA;;QAAZ1B,MAAY;EAAA2B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVzB9C,EAAA,CAAAC,cAAA,gBAAoD;MAC5CD,EAAA,CAAAE,MAAA,4BAAqB;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAMlCH,EAAA,CAAAgD,UAAA,IAAAC,2BAAA,kBA6CM;MAGNjD,EAAA,CAAAC,cAAA,aAAkB;MACdD,EAAA,CAAAI,SAAA,oBAA+B;MACnCJ,EAAA,CAAAG,YAAA,EAAM;MAINH,EAAA,CAAAC,cAAA,gBAAgE;MACzDD,EAAA,CAAAE,MAAA,8DAAuD;MAAAF,EAAA,CAAAG,YAAA,EAAI;;;MAvD5DH,EAAA,CAAAkD,SAAA,GAAyB;MAAzBlD,EAAA,CAAAmD,UAAA,SAAAJ,GAAA,CAAA9B,OAAA,aAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
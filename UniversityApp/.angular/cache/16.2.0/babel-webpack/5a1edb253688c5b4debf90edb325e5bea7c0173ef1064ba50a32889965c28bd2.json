{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let FacultyRegComponent = class FacultyRegComponent {\n  constructor(objService, depService) {\n    this.objService = objService;\n    this.depService = depService;\n    this.existingCourseId = this.objService.CourseData.CourseId;\n  }\n  ngOnInit() {\n    console.log(this.objService.CourseData);\n    this.loadDepartment();\n    if (this.existingCourseId) {\n      this.existingCourseId = this.objService.CourseData.CourseId;\n      this.mode = \"update\";\n    } else {\n      this.resetForm();\n    }\n  }\n  resetForm(form) {\n    if (form != null) {\n      form.form.reset();\n    } else {\n      this.objService.CourseData = {\n        CourseId: \"\",\n        CourseCode: \"\",\n        CourseName: \"\",\n        Credits: \"\",\n        DepartmentId: \"\",\n        Syllabus: \"\",\n        Description: \"\"\n      };\n    }\n  }\n  onSubmit(form) {\n    if (this.mode == \"update\") {\n      this.updateRecord(form);\n    } else {\n      this.insertRecord(form);\n    }\n  }\n  insertRecord(form) {\n    this.objService.postCourseInfo().subscribe(res => {\n      this.resetForm(form);\n      this.objService.getCourseInfoList();\n      alert('New Course Added');\n    }, err => {\n      alert('Error!' + err);\n    });\n  }\n  loadDepartment() {\n    this.depService.getDepartmentInfoList();\n  }\n  updateRecord(form) {\n    this.objService.putCourseInfo().subscribe(res => {\n      this.resetForm();\n      this.objService.getCourseInfoList();\n      alert('Course Record Updated!');\n    }, err => {\n      alert('Error!' + err);\n    });\n  }\n};\nFacultyRegComponent = __decorate([Component({\n  selector: 'app-faculty-reg',\n  templateUrl: './faculty-reg.component.html',\n  styleUrls: ['./faculty-reg.component.css']\n})], FacultyRegComponent);","map":{"version":3,"names":["Component","FacultyRegComponent","constructor","objService","depService","existingCourseId","CourseData","CourseId","ngOnInit","console","log","loadDepartment","mode","resetForm","form","reset","CourseCode","CourseName","Credits","DepartmentId","Syllabus","Description","onSubmit","updateRecord","insertRecord","postCourseInfo","subscribe","res","getCourseInfoList","alert","err","getDepartmentInfoList","putCourseInfo","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\admin\\faculty-reg\\faculty-reg.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { CourseInfoService } from 'src/app/shared/course-info.service';\n\n@Component({\n  selector: 'app-faculty-reg',\n  templateUrl: './faculty-reg.component.html',\n  styleUrls: ['./faculty-reg.component.css']\n})\nexport class FacultyRegComponent {\n  existingCourseId = this.objService.CourseData.CourseId;\n  mode:any;\n  constructor(public objService:CourseInfoService, public depService:DepartmentInfoService){}\n  ngOnInit(){\n    console.log(this.objService.CourseData)\n    this.loadDepartment();\n    if(this.existingCourseId){\n      this.existingCourseId = this.objService.CourseData.CourseId;\n      this.mode=\"update\";\n    }\n    else{\n      this.resetForm()\n    }\n  }\n\n  resetForm(form?:NgForm){\n    if(form!=null)\n    {\n      form.form.reset();\n    }\n    else{\n      this.objService.CourseData = {CourseId:\"\", CourseCode:\"\", CourseName:\"\", Credits:\"\", DepartmentId:\"\", Syllabus:\"\", Description:\"\"};\n    }\n  }\n\n  onSubmit(form:NgForm)\n  {\n    if(this.mode==\"update\"){\n      this.updateRecord(form);\n    }else{\n      this.insertRecord(form);\n    }\n      \n  }\n\n  insertRecord(form:NgForm)\n  {\n    this.objService.postCourseInfo().subscribe(res=>\n      {\n        this.resetForm(form);\n        this.objService.getCourseInfoList();\n        alert('New Course Added');\n      },\n      err=>{alert('Error!' + err);})\n  }\n\n  loadDepartment(){\n    this.depService.getDepartmentInfoList();\n  }\n\n  updateRecord(form:NgForm)\n  {\n    this.objService.putCourseInfo().subscribe(\n      res=>{\n        this.resetForm();\n        this.objService.getCourseInfoList();\n        alert('Course Record Updated!');\n      },\n      err=> {\n        alert('Error!' + err);\n      }\n    )\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YAAmBC,UAA4B,EAASC,UAAgC;IAArE,KAAAD,UAAU,GAAVA,UAAU;IAA2B,KAAAC,UAAU,GAAVA,UAAU;IAFlE,KAAAC,gBAAgB,GAAG,IAAI,CAACF,UAAU,CAACG,UAAU,CAACC,QAAQ;EAEoC;EAC1FC,QAAQA,CAAA;IACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,UAAU,CAACG,UAAU,CAAC;IACvC,IAAI,CAACK,cAAc,EAAE;IACrB,IAAG,IAAI,CAACN,gBAAgB,EAAC;MACvB,IAAI,CAACA,gBAAgB,GAAG,IAAI,CAACF,UAAU,CAACG,UAAU,CAACC,QAAQ;MAC3D,IAAI,CAACK,IAAI,GAAC,QAAQ;KACnB,MACG;MACF,IAAI,CAACC,SAAS,EAAE;;EAEpB;EAEAA,SAASA,CAACC,IAAY;IACpB,IAAGA,IAAI,IAAE,IAAI,EACb;MACEA,IAAI,CAACA,IAAI,CAACC,KAAK,EAAE;KAClB,MACG;MACF,IAAI,CAACZ,UAAU,CAACG,UAAU,GAAG;QAACC,QAAQ,EAAC,EAAE;QAAES,UAAU,EAAC,EAAE;QAAEC,UAAU,EAAC,EAAE;QAAEC,OAAO,EAAC,EAAE;QAAEC,YAAY,EAAC,EAAE;QAAEC,QAAQ,EAAC,EAAE;QAAEC,WAAW,EAAC;MAAE,CAAC;;EAEtI;EAEAC,QAAQA,CAACR,IAAW;IAElB,IAAG,IAAI,CAACF,IAAI,IAAE,QAAQ,EAAC;MACrB,IAAI,CAACW,YAAY,CAACT,IAAI,CAAC;KACxB,MAAI;MACH,IAAI,CAACU,YAAY,CAACV,IAAI,CAAC;;EAG3B;EAEAU,YAAYA,CAACV,IAAW;IAEtB,IAAI,CAACX,UAAU,CAACsB,cAAc,EAAE,CAACC,SAAS,CAACC,GAAG,IAAE;MAE5C,IAAI,CAACd,SAAS,CAACC,IAAI,CAAC;MACpB,IAAI,CAACX,UAAU,CAACyB,iBAAiB,EAAE;MACnCC,KAAK,CAAC,kBAAkB,CAAC;IAC3B,CAAC,EACDC,GAAG,IAAE;MAACD,KAAK,CAAC,QAAQ,GAAGC,GAAG,CAAC;IAAC,CAAC,CAAC;EAClC;EAEAnB,cAAcA,CAAA;IACZ,IAAI,CAACP,UAAU,CAAC2B,qBAAqB,EAAE;EACzC;EAEAR,YAAYA,CAACT,IAAW;IAEtB,IAAI,CAACX,UAAU,CAAC6B,aAAa,EAAE,CAACN,SAAS,CACvCC,GAAG,IAAE;MACH,IAAI,CAACd,SAAS,EAAE;MAChB,IAAI,CAACV,UAAU,CAACyB,iBAAiB,EAAE;MACnCC,KAAK,CAAC,wBAAwB,CAAC;IACjC,CAAC,EACDC,GAAG,IAAE;MACHD,KAAK,CAAC,QAAQ,GAAGC,GAAG,CAAC;IACvB,CAAC,CACF;EACH;CACD;AAhEY7B,mBAAmB,GAAAgC,UAAA,EAL/BjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACWnC,mBAAmB,CAgE/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}
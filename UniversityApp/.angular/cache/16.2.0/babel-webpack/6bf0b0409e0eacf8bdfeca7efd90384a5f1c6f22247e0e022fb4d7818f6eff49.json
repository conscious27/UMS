{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\nimport jwt_decode from 'jwt-decode';\nexport let AppComponent = class AppComponent {\n  constructor(router, auth) {\n    this.router = router;\n    this.auth = auth;\n    this.navmode = ''; //Initialize the navmode variable\n  }\n\n  ngOnInit() {\n    const token = localStorage.getItem('authToken');\n    try {\n      const tokenPayload = jwt_decode(token);\n      console.log(tokenPayload);\n      if (tokenPayload.Role === \"Admin\") {\n        this.navmode = \"ADMIN\";\n      } else if (tokenPayload.Role === \"Faculty\") {\n        this.navmode = 'FACULTY';\n      } else if (tokenPayload.Role === \"Student\") {\n        this.navmode = 'STUDENT';\n      }\n      console.log(this.navmode);\n    } catch (error) {\n      localStorage.clear();\n      this.router.navigate(['/']);\n    }\n  }\n  Logout() {\n    this.auth.logout();\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})], AppComponent);","map":{"version":3,"names":["Component","ChangeDetectionStrategy","jwt_decode","AppComponent","constructor","router","auth","navmode","ngOnInit","token","localStorage","getItem","tokenPayload","console","log","Role","error","clear","navigate","Logout","logout","__decorate","selector","templateUrl","styleUrls","changeDetection","OnPush"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport jwt_decode from 'jwt-decode';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AppComponent implements OnInit {\n  navmode: string = ''; //Initialize the navmode variable\n  constructor(private router: Router, private auth: AuthenticationService) { }\n  ngOnInit(): void {\n      const token: any = localStorage.getItem('authToken');\n\n      try {\n        const tokenPayload: any = jwt_decode(token);\n\n        console.log(tokenPayload)\n        if (tokenPayload.Role === \"Admin\") {\n          this.navmode = \"ADMIN\";\n        }\n        else if (tokenPayload.Role === \"Faculty\") {\n          this.navmode = 'FACULTY';\n        }\n        else if (tokenPayload.Role === \"Student\") {\n          this.navmode = 'STUDENT';\n        }\n        console.log(this.navmode)\n      } catch (error) {\n        localStorage.clear();\n        this.router.navigate(['/']);\n      }\n  }\n\n\n\n\n  Logout() {\n    this.auth.logout();\n  }\n\n\n  // title = 'UniversityApp';\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,uBAAuB,QAAQ,eAAe;AAE1E,OAAOC,UAAU,MAAM,YAAY;AAQ5B,WAAMC,YAAY,GAAlB,MAAMA,YAAY;EAEvBC,YAAoBC,MAAc,EAAUC,IAA2B;IAAnD,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,IAAI,GAAJA,IAAI;IADhD,KAAAC,OAAO,GAAW,EAAE,CAAC,CAAC;EACqD;;EAC3EC,QAAQA,CAAA;IACJ,MAAMC,KAAK,GAAQC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAEpD,IAAI;MACF,MAAMC,YAAY,GAAQV,UAAU,CAACO,KAAK,CAAC;MAE3CI,OAAO,CAACC,GAAG,CAACF,YAAY,CAAC;MACzB,IAAIA,YAAY,CAACG,IAAI,KAAK,OAAO,EAAE;QACjC,IAAI,CAACR,OAAO,GAAG,OAAO;OACvB,MACI,IAAIK,YAAY,CAACG,IAAI,KAAK,SAAS,EAAE;QACxC,IAAI,CAACR,OAAO,GAAG,SAAS;OACzB,MACI,IAAIK,YAAY,CAACG,IAAI,KAAK,SAAS,EAAE;QACxC,IAAI,CAACR,OAAO,GAAG,SAAS;;MAE1BM,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,OAAO,CAAC;KAC1B,CAAC,OAAOS,KAAK,EAAE;MACdN,YAAY,CAACO,KAAK,EAAE;MACpB,IAAI,CAACZ,MAAM,CAACa,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;EAEjC;EAKAC,MAAMA,CAAA;IACJ,IAAI,CAACb,IAAI,CAACc,MAAM,EAAE;EACpB;CAID;AAnCYjB,YAAY,GAAAkB,UAAA,EANxBrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB,CAAC;EAClCC,eAAe,EAAExB,uBAAuB,CAACyB;CAC1C,CAAC,C,EACWvB,YAAY,CAmCxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
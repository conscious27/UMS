{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/department-info.service\";\nimport * as i2 from \"@angular/forms\";\nexport class DepartmentRegComponent {\n  constructor(objService) {\n    this.objService = objService;\n    this.existingDepartmentId = this.objService.depData.DepartmentId;\n  }\n  ngOnInit() {\n    if (this.existingDepartmentId) {\n      this.existingDepartmentId = this.objService.depData.DepartmentId;\n    } else {\n      this.resetForm();\n    }\n  }\n  resetForm(form) {\n    if (form != null) {\n      form.form.reset();\n    } else {\n      this.objService.depData = {\n        DepartmentId: this.existingDepartmentId,\n        DepartmentName: \"\",\n        ContactNumber: \"\"\n      };\n    }\n  }\n  onSubmit(form) {\n    this.updateRecord(form);\n  }\n  insertRecord(form) {\n    this.objService.postDepartmentInfo().subscribe(res => {\n      this.resetForm(form);\n      this.objService.getDepartmentInfoList();\n      alert('New Department Added');\n    }, err => {\n      alert('Error!' + err);\n    });\n  }\n  updateRecord(form) {\n    this.objService.putDepartmentInfo().subscribe(res => {\n      this.resetForm();\n      this.objService.getDepartmentInfoList();\n      alert('Department Record Updated!');\n    }, err => {\n      alert('Error!' + err);\n    });\n  }\n}\n_class = DepartmentRegComponent;\n_class.ɵfac = function DepartmentRegComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.DepartmentInfoService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-department-reg\"]],\n  decls: 27,\n  vars: 16,\n  consts: [[\"autocomplete\", \"off\", 3, \"submit\"], [\"form\", \"ngForm\"], [1, \"form-group\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\", \"bg-white\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\"], [\"readonly\", \"\", \"name\", \"DepartmentName\", \"placeholder\", \"Department Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"DepartmentName\", \"ngModel\"], [\"name\", \"DepartmentName\", \"placeholder\", \"Department Name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-diamond\"], [\"name\", \"ContactNumber\", \"placeholder\", \"ContactNumber\", \"required\", \"\", \"maxlength\", \"10\", \"minlength\", \"10\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"ContactNumber\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-lg\", 3, \"disabled\"], [1, \"fa\", \"fa-database\"]],\n  template: function DepartmentRegComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"submit\", function DepartmentRegComponent_Template_form_submit_0_listener() {\n        i0.ɵɵrestoreView(_r4);\n        const _r0 = i0.ɵɵreference(1);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n      i0.ɵɵelement(6, \"i\", 6);\n      i0.ɵɵelementStart(7, \"input\", 7, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function DepartmentRegComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.objService.depData.DepartmentName = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 3)(11, \"div\", 4)(12, \"div\", 5);\n      i0.ɵɵelement(13, \"i\", 6);\n      i0.ɵɵelementStart(14, \"input\", 9, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function DepartmentRegComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.objService.depData.DepartmentName = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(16, \"div\", 2)(17, \"div\", 3)(18, \"div\", 4)(19, \"div\", 5);\n      i0.ɵɵelement(20, \"i\", 10);\n      i0.ɵɵelementStart(21, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function DepartmentRegComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.objService.depData.ContactNumber = $event;\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(23, \"div\", 2)(24, \"button\", 13);\n      i0.ɵɵelement(25, \"i\", 14);\n      i0.ɵɵtext(26, \" Update Department \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n      const _r1 = i0.ɵɵreference(8);\n      const _r3 = i0.ɵɵreference(22);\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"green-icon\", ctx.DepartmentId.valid)(\"red-icon\", ctx.DepartmentId.invalid && ctx.DepartmentId.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.objService.depData.DepartmentName);\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"green-icon\", _r1.valid)(\"red-icon\", _r1.invalid && _r1.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.objService.depData.DepartmentName);\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"green-icon\", _r3.valid)(\"red-icon\", _r3.invalid && _r3.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.objService.depData.ContactNumber);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.MinLengthValidator, i2.MaxLengthValidator, i2.NgModel, i2.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["DepartmentRegComponent","constructor","objService","existingDepartmentId","depData","DepartmentId","ngOnInit","resetForm","form","reset","DepartmentName","ContactNumber","onSubmit","updateRecord","insertRecord","postDepartmentInfo","subscribe","res","getDepartmentInfoList","alert","err","putDepartmentInfo","i0","ɵɵdirectiveInject","i1","DepartmentInfoService","selectors","decls","vars","consts","template","DepartmentRegComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","DepartmentRegComponent_Template_form_submit_0_listener","ɵɵrestoreView","_r4","_r0","ɵɵreference","ɵɵresetView","ɵɵelement","DepartmentRegComponent_Template_input_ngModelChange_7_listener","$event","ɵɵelementEnd","DepartmentRegComponent_Template_input_ngModelChange_14_listener","DepartmentRegComponent_Template_input_ngModelChange_21_listener","ɵɵtext","ɵɵadvance","ɵɵclassProp","valid","invalid","touched","ɵɵproperty","_r1","_r3"],"sources":["D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\admin\\department-reg\\department-reg.component.ts","D:\\Project Genpact\\UMS\\UniversityApp\\src\\app\\admin\\department-reg\\department-reg.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { DepartmentInfoService } from 'src/app/shared/department-info.service';\r\n\r\n@Component({\r\n  selector: 'app-department-reg',\r\n  templateUrl: './department-reg.component.html',\r\n  styleUrls: ['./department-reg.component.css']\r\n})\r\nexport class DepartmentRegComponent implements OnInit {\r\n  existingDepartmentId = this.objService.depData.DepartmentId;\r\n  constructor(public objService:DepartmentInfoService){}\r\n  ngOnInit(){\r\n    if(this.existingDepartmentId){\r\n      this.existingDepartmentId = this.objService.depData.DepartmentId;\r\n    }\r\n    else{\r\n      this.resetForm()\r\n    }\r\n  }\r\n\r\n  resetForm(form?:NgForm){\r\n    if(form!=null)\r\n    {\r\n      form.form.reset();\r\n    }\r\n    else{\r\n      this.objService.depData = {DepartmentId:this.existingDepartmentId, DepartmentName:\"\", ContactNumber:\"\"}\r\n    }\r\n  }\r\n\r\n  onSubmit(form:NgForm)\r\n  {\r\n      this.updateRecord(form);\r\n  }\r\n\r\n  insertRecord(form:NgForm)\r\n  {\r\n    this.objService.postDepartmentInfo().subscribe(res=>\r\n      {\r\n        this.resetForm(form);\r\n        this.objService.getDepartmentInfoList();\r\n        alert('New Department Added');\r\n      },\r\n      err=>{alert('Error!' + err);})\r\n  }\r\n\r\n  updateRecord(form:NgForm)\r\n  {\r\n    this.objService.putDepartmentInfo().subscribe(\r\n      res=>{\r\n        this.resetForm();\r\n        this.objService.getDepartmentInfoList();\r\n        alert('Department Record Updated!');\r\n      },\r\n      err=> {\r\n        alert('Error!' + err);\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<form #form=\"ngForm\" autocomplete=\"off\" (submit)=\"onSubmit(form)\">\r\n\r\n    <div class=\"form-group\">\r\n        <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n                <div class=\"input-group-text bg-white\">\r\n                    <i class=\"fa fa-user-circle-o\" aria-hidden=\"true\" [class.green-icon]=\"DepartmentId.valid\"\r\n                        [class.red-icon]=\"DepartmentId.invalid && DepartmentId.touched\"></i>\r\n                    <input readonly name=\"DepartmentName\" #DepartmentName=\"ngModel\" [(ngModel)]=\"objService.depData.DepartmentName\"\r\n                        placeholder=\"Department Name\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n        <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n                <div class=\"input-group-text bg-white\">\r\n                    <i class=\"fa fa-user-circle-o\" aria-hidden=\"true\" [class.green-icon]=\"DepartmentName.valid\"\r\n                        [class.red-icon]=\"DepartmentName.invalid && DepartmentName.touched\"></i>\r\n                    <input name=\"DepartmentName\" #DepartmentName=\"ngModel\" [(ngModel)]=\"objService.depData.DepartmentName\"\r\n                        placeholder=\"Department Name\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"form-group\">\r\n        <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n                <div class=\"input-group-text bg-white\">\r\n                    <i class=\"fa fa-diamond\" aria-hidden=\"true\" [class.green-icon]=\"ContactNumber.valid\"\r\n                        [class.red-icon]=\"ContactNumber.invalid && ContactNumber.touched\"></i>\r\n                    <input name=\"ContactNumber\" #ContactNumber=\"ngModel\" [(ngModel)]=\"objService.depData.ContactNumber\"\r\n                        placeholder=\"ContactNumber\" class=\"form-control\" required maxlength=\"10\" minlength=\"10\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"form-group\">\r\n        <button class=\"btn btn-success btn-lg\" type=\"submit\" [disabled]=\"form.invalid\">\r\n            <i class=\"fa fa-database\"></i> Update Department </button>\r\n    </div>\r\n</form>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}